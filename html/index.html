<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Terminal Demo (WebAssembly)</title>
    <link rel="stylesheet" href="style.css"></link>
  </head>
  <body>
    <main>
      <pre id="output"></pre>
      <input
	id="input"
	type="text"
	aria-describedby="input-description"
	></input>
      <label
	style="display: block"
	for="input"
	>
	Console input when required.
      </label>
      <div id="input-description">
	When a program reaches a breakpoint that requires text input,
	put your input into this field and press enter.
      </div>
      <script src="helpers.js"></script>
      <script src="files.js"></script>
      <script>
	var Module = {
	    onRuntimeInitialized: async function() {
		// technically main is already called by emscripten
		// so this will run main a second time.

		const vec = new Module.StringList();
		//must have program name
		vec.push_back("lua");
		print('main result: ' + await Module.main(vec) + '\n');
	    }
	};
      </script>
      <script src="lua.js"></script>
    </main>
  </body>
</html>
